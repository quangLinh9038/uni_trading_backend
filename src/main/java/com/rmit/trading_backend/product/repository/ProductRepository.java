package com.rmit.trading_backend.product.repository;import com.rmit.trading_backend.product.model.Product;import org.springframework.data.jpa.repository.JpaRepository;import org.springframework.data.jpa.repository.Query;import org.springframework.data.repository.query.Param;import java.util.Date;import java.util.List;import java.util.Optional;public interface ProductRepository extends JpaRepository<Product, Integer> {    Optional<Product> findProductByNameContaining(String name);    List<Product> findProductsByBrandContaining(String brand);    List<Product> findAllProductByCategoryContaining(@Param("name") String categoryName);    @Query("SELECT SUM(rd.receivedQuantity) FROM ReceivedDetail rd WHERE rd.product.id = :id AND rd.receivedNote.receivedDate <= :endDate")    Integer calculateTotalReceivedQuantity(@Param("id") int id, @Param("endDate") Date endDate);    @Query("SELECT SUM(d.deliveryQuantity) FROM DeliveryDetail d WHERE d.product.id = :id AND d.deliveryNote.deliveryDate " +            "BETWEEN :startDate AND :endDate")    Integer calculateTotalDeliveryQuantity(@Param("id") int id, @Param("startDate") Date startDate, @Param("endDate") Date endDate);}